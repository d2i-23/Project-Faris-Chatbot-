{"ast":null,"code":"/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismMatrix44 } from '../Framework/src/math/cubismmatrix44';\nimport { CubismViewMatrix } from '../Framework/src/math/cubismviewmatrix';\nimport * as LAppDefine from './lappdefine';\nimport { canvas, gl, LAppDelegate } from './lappdelegate';\nimport { LAppLive2DManager } from './lapplive2dmanager';\nimport { LAppPal } from './lapppal';\nimport { TouchManager } from './touchmanager';\n\n/**\n * 描画クラス。\n */\nexport class LAppView {\n  /**\n   * コンストラクタ\n   */\n  constructor() {\n    this._touchManager = void 0;\n    // タッチマネージャー\n    this._deviceToScreen = void 0;\n    // デバイスからスクリーンへの行列\n    this._viewMatrix = void 0;\n    // viewMatrix\n    this._programId = void 0;\n    // シェーダID\n    this._back = void 0;\n    // 背景画像\n    this._gear = void 0;\n    // ギア画像\n    this._changeModel = void 0;\n    // モデル切り替えフラグ\n    this._isClick = void 0;\n    this._programId = null;\n    this._back = null;\n    this._gear = null;\n\n    // タッチ関係のイベント管理\n    this._touchManager = new TouchManager();\n\n    // デバイス座標からスクリーン座標に変換するための\n    this._deviceToScreen = new CubismMatrix44();\n\n    // 画面の表示の拡大縮小や移動の変換を行う行列\n    this._viewMatrix = new CubismViewMatrix();\n  }\n\n  /**\n   * 初期化する。\n   */\n  initialize() {\n    const {\n      width,\n      height\n    } = canvas;\n    const ratio = width / height;\n    const left = -ratio;\n    const right = ratio;\n    const bottom = LAppDefine.ViewLogicalLeft;\n    const top = LAppDefine.ViewLogicalRight;\n    this._viewMatrix.setScreenRect(left, right, bottom, top); // デバイスに対応する画面の範囲。 Xの左端、Xの右端、Yの下端、Yの上端\n    this._viewMatrix.scale(LAppDefine.ViewScale, LAppDefine.ViewScale);\n    this._deviceToScreen.loadIdentity();\n    if (width > height) {\n      const screenW = Math.abs(right - left);\n      this._deviceToScreen.scaleRelative(screenW / width, -screenW / width);\n    } else {\n      const screenH = Math.abs(top - bottom);\n      this._deviceToScreen.scaleRelative(screenH / height, -screenH / height);\n    }\n    this._deviceToScreen.translateRelative(-width * 0.5, -height * 0.5);\n\n    // 表示範囲の設定\n    this._viewMatrix.setMaxScale(LAppDefine.ViewMaxScale); // 限界拡張率\n    this._viewMatrix.setMinScale(LAppDefine.ViewMinScale); // 限界縮小率\n\n    // 表示できる最大範囲\n    this._viewMatrix.setMaxScreenRect(LAppDefine.ViewLogicalMaxLeft, LAppDefine.ViewLogicalMaxRight, LAppDefine.ViewLogicalMaxBottom, LAppDefine.ViewLogicalMaxTop);\n  }\n\n  /**\n   * 解放する\n   */\n  release() {\n    this._viewMatrix = null;\n    this._touchManager = null;\n    this._deviceToScreen = null;\n    this._gear.release();\n    this._gear = null;\n    this._back.release();\n    this._back = null;\n    gl.deleteProgram(this._programId);\n    this._programId = null;\n  }\n\n  /**\n   * 描画する。\n   */\n  render() {\n    gl.useProgram(this._programId);\n    if (this._back) {\n      this._back.render(this._programId);\n    }\n    if (this._gear) {\n      this._gear.render(this._programId);\n    }\n    gl.flush();\n    const live2DManager = LAppLive2DManager.getInstance();\n    live2DManager.setViewMatrix(this._viewMatrix);\n    live2DManager.onUpdate();\n  }\n\n  /**\n   * 画像の初期化を行う。\n   */\n  initializeSprite() {\n    const width = canvas.width;\n    const height = canvas.height;\n    const textureManager = LAppDelegate.getInstance().getTextureManager();\n    const resourcesPath = LAppDefine.ResourcesPath;\n    let imageName = '';\n\n    /** \n    // 背景画像初期化\n    imageName = LAppDefine.BackImageName;\n     // 非同期なのでコールバック関数を作成\n    const initBackGroundTexture = (textureInfo: TextureInfo): void => {\n      const x: number = width * 0.5;\n      const y: number = height * 0.5;\n       const fwidth = textureInfo.width * 2.0;\n      const fheight = height * 0.95;\n      this._back = new LAppSprite(x, y, fwidth, fheight, textureInfo.id);\n    };\n     textureManager.createTextureFromPngFile(\n      resourcesPath + imageName,\n      false,\n      initBackGroundTexture\n    );\n     // 歯車画像初期化\n    imageName = LAppDefine.GearImageName;\n    const initGearTexture = (textureInfo: TextureInfo): void => {\n      const x = width - textureInfo.width * 0.5;\n      const y = height - textureInfo.height * 0.5;\n      const fwidth = textureInfo.width;\n      const fheight = textureInfo.height;\n      this._gear = new LAppSprite(x, y, fwidth, fheight, textureInfo.id);\n    };\n     textureManager.createTextureFromPngFile(\n      resourcesPath + imageName,\n      false,\n      initGearTexture\n    );\n    */\n    // シェーダーを作成\n    if (this._programId == null) {\n      this._programId = LAppDelegate.getInstance().createShader();\n    }\n  }\n  //! custom function\n  ConfigureAudio(path) {\n    const live2DManager = LAppLive2DManager.getInstance();\n  }\n\n  /**\n   * タッチされた時に呼ばれる。\n   *\n   * @param pointX スクリーンX座標\n   * @param pointY スクリーンY座標\n   */\n  onTouchesBegan(pointX, pointY) {\n    this._touchManager.touchesBegan(pointX, pointY);\n  }\n\n  /**\n   * タッチしているときにポインタが動いたら呼ばれる。\n   *\n   * @param pointX スクリーンX座標\n   * @param pointY スクリーンY座標\n   */\n  onTouchesMoved(pointX, pointY) {\n    const viewX = this.transformViewX(this._touchManager.getX());\n    const viewY = this.transformViewY(this._touchManager.getY());\n    this._touchManager.touchesMoved(pointX, pointY);\n    const live2DManager = LAppLive2DManager.getInstance();\n    live2DManager.onDrag(viewX, viewY);\n  }\n\n  /**\n   * タッチが終了したら呼ばれる。\n   *\n   * @param pointX スクリーンX座標\n   * @param pointY スクリーンY座標\n   */\n  onTouchesEnded(pointX, pointY) {\n    // タッチ終了\n    const live2DManager = LAppLive2DManager.getInstance();\n    live2DManager.onDrag(0.0, 0.0);\n    {\n      // シングルタップ\n      const x = this._deviceToScreen.transformX(this._touchManager.getX()); // 論理座標変換した座標を取得。\n      const y = this._deviceToScreen.transformY(this._touchManager.getY()); // 論理座標変化した座標を取得。\n\n      if (LAppDefine.DebugTouchLogEnable) {\n        LAppPal.printMessage(`[APP]touchesEnded x: ${x} y: ${y}`);\n      }\n      live2DManager.onTap(x, y);\n      /** \n      // 歯車にタップしたか\n      if (this._gear.isHit(pointX, pointY)) {\n        live2DManager.nextScene();\n      }\n      */\n    }\n  }\n\n  /**\n   * X座標をView座標に変換する。\n   *\n   * @param deviceX デバイスX座標\n   */\n  transformViewX(deviceX) {\n    const screenX = this._deviceToScreen.transformX(deviceX); // 論理座標変換した座標を取得。\n    return this._viewMatrix.invertTransformX(screenX); // 拡大、縮小、移動後の値。\n  }\n\n  /**\n   * Y座標をView座標に変換する。\n   *\n   * @param deviceY デバイスY座標\n   */\n  transformViewY(deviceY) {\n    const screenY = this._deviceToScreen.transformY(deviceY); // 論理座標変換した座標を取得。\n    return this._viewMatrix.invertTransformY(screenY);\n  }\n\n  /**\n   * X座標をScreen座標に変換する。\n   * @param deviceX デバイスX座標\n   */\n  transformScreenX(deviceX) {\n    return this._deviceToScreen.transformX(deviceX);\n  }\n\n  /**\n   * Y座標をScreen座標に変換する。\n   *\n   * @param deviceY デバイスY座標\n   */\n  transformScreenY(deviceY) {\n    return this._deviceToScreen.transformY(deviceY);\n  }\n\n  // クリック中\n}","map":{"version":3,"names":["CubismMatrix44","CubismViewMatrix","LAppDefine","canvas","gl","LAppDelegate","LAppLive2DManager","LAppPal","TouchManager","LAppView","constructor","_touchManager","_deviceToScreen","_viewMatrix","_programId","_back","_gear","_changeModel","_isClick","initialize","width","height","ratio","left","right","bottom","ViewLogicalLeft","top","ViewLogicalRight","setScreenRect","scale","ViewScale","loadIdentity","screenW","Math","abs","scaleRelative","screenH","translateRelative","setMaxScale","ViewMaxScale","setMinScale","ViewMinScale","setMaxScreenRect","ViewLogicalMaxLeft","ViewLogicalMaxRight","ViewLogicalMaxBottom","ViewLogicalMaxTop","release","deleteProgram","render","useProgram","flush","live2DManager","getInstance","setViewMatrix","onUpdate","initializeSprite","textureManager","getTextureManager","resourcesPath","ResourcesPath","imageName","createShader","ConfigureAudio","path","onTouchesBegan","pointX","pointY","touchesBegan","onTouchesMoved","viewX","transformViewX","getX","viewY","transformViewY","getY","touchesMoved","onDrag","onTouchesEnded","x","transformX","y","transformY","DebugTouchLogEnable","printMessage","onTap","deviceX","screenX","invertTransformX","deviceY","screenY","invertTransformY","transformScreenX","transformScreenY"],"sources":["C:/Users/cleyc/OneDrive/Documents/RR/RRWebsiteRenewed/my-app/src/src/lappview.ts"],"sourcesContent":["/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismMatrix44 } from '../Framework/src/math/cubismmatrix44';\nimport { CubismViewMatrix } from '../Framework/src/math/cubismviewmatrix';\n\nimport * as LAppDefine from './lappdefine';\nimport { canvas, gl, LAppDelegate } from './lappdelegate';\nimport { LAppLive2DManager } from './lapplive2dmanager';\nimport { LAppPal } from './lapppal';\nimport { LAppSprite } from './lappsprite';\nimport { TextureInfo } from './lapptexturemanager';\nimport { TouchManager } from './touchmanager';\n\n/**\n * 描画クラス。\n */\nexport class LAppView {\n  /**\n   * コンストラクタ\n   */\n  constructor() {\n    this._programId = null;\n    this._back = null;\n    this._gear = null;\n\n    // タッチ関係のイベント管理\n    this._touchManager = new TouchManager();\n\n    // デバイス座標からスクリーン座標に変換するための\n    this._deviceToScreen = new CubismMatrix44();\n\n    // 画面の表示の拡大縮小や移動の変換を行う行列\n    this._viewMatrix = new CubismViewMatrix();\n  }\n\n  /**\n   * 初期化する。\n   */\n  public initialize(): void {\n    const { width, height } = canvas;\n\n    const ratio: number = width / height;\n    const left: number = -ratio;\n    const right: number = ratio;\n    const bottom: number = LAppDefine.ViewLogicalLeft;\n    const top: number = LAppDefine.ViewLogicalRight;\n\n    this._viewMatrix.setScreenRect(left, right, bottom, top); // デバイスに対応する画面の範囲。 Xの左端、Xの右端、Yの下端、Yの上端\n    this._viewMatrix.scale(LAppDefine.ViewScale, LAppDefine.ViewScale);\n\n    this._deviceToScreen.loadIdentity();\n    if (width > height) {\n      const screenW: number = Math.abs(right - left);\n      this._deviceToScreen.scaleRelative(screenW / width, -screenW / width);\n    } else {\n      const screenH: number = Math.abs(top - bottom);\n      this._deviceToScreen.scaleRelative(screenH / height, -screenH / height);\n    }\n    this._deviceToScreen.translateRelative(-width * 0.5, -height * 0.5);\n\n    // 表示範囲の設定\n    this._viewMatrix.setMaxScale(LAppDefine.ViewMaxScale); // 限界拡張率\n    this._viewMatrix.setMinScale(LAppDefine.ViewMinScale); // 限界縮小率\n\n    // 表示できる最大範囲\n    this._viewMatrix.setMaxScreenRect(\n      LAppDefine.ViewLogicalMaxLeft,\n      LAppDefine.ViewLogicalMaxRight,\n      LAppDefine.ViewLogicalMaxBottom,\n      LAppDefine.ViewLogicalMaxTop\n    );\n  }\n\n  /**\n   * 解放する\n   */\n  public release(): void {\n    this._viewMatrix = null;\n    this._touchManager = null;\n    this._deviceToScreen = null;\n\n    this._gear.release();\n    this._gear = null;\n\n    this._back.release();\n    this._back = null;\n\n    gl.deleteProgram(this._programId);\n    this._programId = null;\n  }\n\n  /**\n   * 描画する。\n   */\n  public render(): void {\n    gl.useProgram(this._programId);\n\n    if (this._back) {\n      this._back.render(this._programId);\n    }\n    if (this._gear) {\n      this._gear.render(this._programId);\n    }\n\n    gl.flush();\n\n    const live2DManager: LAppLive2DManager = LAppLive2DManager.getInstance();\n\n    live2DManager.setViewMatrix(this._viewMatrix);\n\n    live2DManager.onUpdate();\n  }\n\n  /**\n   * 画像の初期化を行う。\n   */\n  public initializeSprite(): void {\n    const width: number = canvas.width;\n    const height: number = canvas.height;\n\n    const textureManager = LAppDelegate.getInstance().getTextureManager();\n    const resourcesPath = LAppDefine.ResourcesPath;\n\n    let imageName = '';\n\n\n    /** \n    // 背景画像初期化\n    imageName = LAppDefine.BackImageName;\n\n    // 非同期なのでコールバック関数を作成\n    const initBackGroundTexture = (textureInfo: TextureInfo): void => {\n      const x: number = width * 0.5;\n      const y: number = height * 0.5;\n\n      const fwidth = textureInfo.width * 2.0;\n      const fheight = height * 0.95;\n      this._back = new LAppSprite(x, y, fwidth, fheight, textureInfo.id);\n    };\n\n    textureManager.createTextureFromPngFile(\n      resourcesPath + imageName,\n      false,\n      initBackGroundTexture\n    );\n\n    // 歯車画像初期化\n    imageName = LAppDefine.GearImageName;\n    const initGearTexture = (textureInfo: TextureInfo): void => {\n      const x = width - textureInfo.width * 0.5;\n      const y = height - textureInfo.height * 0.5;\n      const fwidth = textureInfo.width;\n      const fheight = textureInfo.height;\n      this._gear = new LAppSprite(x, y, fwidth, fheight, textureInfo.id);\n    };\n\n    textureManager.createTextureFromPngFile(\n      resourcesPath + imageName,\n      false,\n      initGearTexture\n    );\n    */\n    // シェーダーを作成\n    if (this._programId == null) {\n      this._programId = LAppDelegate.getInstance().createShader();\n    }\n  }\n  //! custom function\n  public ConfigureAudio(path: string): void{\n    const live2DManager: LAppLive2DManager = LAppLive2DManager.getInstance();\n  }\n\n  /**\n   * タッチされた時に呼ばれる。\n   *\n   * @param pointX スクリーンX座標\n   * @param pointY スクリーンY座標\n   */\n  public onTouchesBegan(pointX: number, pointY: number): void {\n    this._touchManager.touchesBegan(pointX, pointY);\n  }\n\n  /**\n   * タッチしているときにポインタが動いたら呼ばれる。\n   *\n   * @param pointX スクリーンX座標\n   * @param pointY スクリーンY座標\n   */\n  public onTouchesMoved(pointX: number, pointY: number): void {\n    const viewX: number = this.transformViewX(this._touchManager.getX());\n    const viewY: number = this.transformViewY(this._touchManager.getY());\n\n    this._touchManager.touchesMoved(pointX, pointY);\n\n    const live2DManager: LAppLive2DManager = LAppLive2DManager.getInstance();\n    live2DManager.onDrag(viewX, viewY);\n  }\n\n  /**\n   * タッチが終了したら呼ばれる。\n   *\n   * @param pointX スクリーンX座標\n   * @param pointY スクリーンY座標\n   */\n  public onTouchesEnded(pointX: number, pointY: number): void {\n    // タッチ終了\n    const live2DManager: LAppLive2DManager = LAppLive2DManager.getInstance();\n    live2DManager.onDrag(0.0, 0.0);\n\n    {\n      // シングルタップ\n      const x: number = this._deviceToScreen.transformX(\n        this._touchManager.getX()\n      ); // 論理座標変換した座標を取得。\n      const y: number = this._deviceToScreen.transformY(\n        this._touchManager.getY()\n      ); // 論理座標変化した座標を取得。\n\n      if (LAppDefine.DebugTouchLogEnable) {\n        LAppPal.printMessage(`[APP]touchesEnded x: ${x} y: ${y}`);\n      }\n      live2DManager.onTap(x, y);\n      /** \n      // 歯車にタップしたか\n      if (this._gear.isHit(pointX, pointY)) {\n        live2DManager.nextScene();\n      }\n      */\n    }\n  }\n\n  /**\n   * X座標をView座標に変換する。\n   *\n   * @param deviceX デバイスX座標\n   */\n  public transformViewX(deviceX: number): number {\n    const screenX: number = this._deviceToScreen.transformX(deviceX); // 論理座標変換した座標を取得。\n    return this._viewMatrix.invertTransformX(screenX); // 拡大、縮小、移動後の値。\n  }\n\n  /**\n   * Y座標をView座標に変換する。\n   *\n   * @param deviceY デバイスY座標\n   */\n  public transformViewY(deviceY: number): number {\n    const screenY: number = this._deviceToScreen.transformY(deviceY); // 論理座標変換した座標を取得。\n    return this._viewMatrix.invertTransformY(screenY);\n  }\n\n  /**\n   * X座標をScreen座標に変換する。\n   * @param deviceX デバイスX座標\n   */\n  public transformScreenX(deviceX: number): number {\n    return this._deviceToScreen.transformX(deviceX);\n  }\n\n  /**\n   * Y座標をScreen座標に変換する。\n   *\n   * @param deviceY デバイスY座標\n   */\n  public transformScreenY(deviceY: number): number {\n    return this._deviceToScreen.transformY(deviceY);\n  }\n\n  _touchManager: TouchManager; // タッチマネージャー\n  _deviceToScreen: CubismMatrix44; // デバイスからスクリーンへの行列\n  _viewMatrix: CubismViewMatrix; // viewMatrix\n  _programId: WebGLProgram; // シェーダID\n  _back: LAppSprite; // 背景画像\n  _gear: LAppSprite; // ギア画像\n  _changeModel: boolean; // モデル切り替えフラグ\n  _isClick: boolean; // クリック中\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}