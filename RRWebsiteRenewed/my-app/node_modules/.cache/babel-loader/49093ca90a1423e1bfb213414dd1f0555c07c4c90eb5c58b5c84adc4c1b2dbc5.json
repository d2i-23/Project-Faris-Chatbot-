{"ast":null,"code":"var _jsxFileName = \"D:\\\\Personal\\\\PythonStuff\\\\RR\\\\RRWebsiteRenewed\\\\my-app\\\\src\\\\js\\\\ReactLive2d.js\",\n  _s = $RefreshSig$();\nimport { LAppDelegate } from '../src/lappdelegate';\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ReactLive2d(props) {\n  _s();\n  // 容器样式\n  let containerStyle = {\n    position: 'absolute',\n    //props.bottom ? props.bottom : '0',\n\n    background: \"red\"\n  };\n  // canvas样式\n  let canvasStyle = {\n    position: 'relative',\n    top: props.top ? props.top : '',\n    right: props.right ? props.right : '0',\n    left: props.left ? props.left : ''\n  };\n  useEffect(() => {\n    if (!navigator.userAgent.match(/mobile/i) || props.MobileShow == true) {\n      if (LAppDelegate.getInstance().initialize() == false) {\n        return;\n      }\n      LAppDelegate.getInstance().run();\n      // window.onbeforeunload = () => LAppDelegate.releaseInstance();\n    }\n  }, []);\n  const [previousSave, newSave] = useState('');\n  const [previousSaveMood, newSaveMood] = useState('');\n  const [previousSaveTime, newSaveTime] = useState(0);\n  const [currentAudio, newAudio] = useState(new Audio());\n  if (props.token !== previousSave) {\n    newSave(props.token);\n    newSaveMood(props.mood);\n    newSaveTime(props.time);\n  }\n  useEffect(() => {\n    if (previousSave !== '') {\n      console.log(previousSaveMood);\n      if (previousSaveMood != 'exp_01') {\n        LAppDelegate.getInstance().setExpression(previousSaveMood);\n      }\n      currentAudio.pause();\n      LAppDelegate.getInstance().audio(previousSave, currentAudio);\n      if (previousSaveMood != 'exp_01') {\n        const timedDefault = () => {\n          LAppDelegate.getInstance().setExpression('exp_01');\n        };\n        setTimeout(timedDefault, previousSaveTime * 1000 + 100);\n        //LAppDelegate.getInstance().setExpression('exp_01')\n      }\n    }\n  }, [previousSave, previousSaveMood, previousSaveTime]);\n  useEffect(() => {}, [currentAudio]);\n  useEffect(() => {\n    if (props.release == true) {\n      LAppDelegate.releaseInstance();\n    }\n  }, [props.release]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: containerStyle,\n      width: props.width ? props.width : '300',\n      height: props.height ? props.height : '500',\n      id: \"live2d-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"live2d-hidden\",\n        style: {\n          width: '100%',\n          height: '100%',\n          position: 'absolute',\n          top: '0',\n          left: '0',\n          zIndex: '2'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        id: \"live2d\",\n        style: canvasStyle,\n        width: props.width ? props.width : '300',\n        height: props.height ? props.height : '500',\n        className: \"live2d\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n_s(ReactLive2d, \"F93k2sZ4zvsVl9Agc62jHNXfsgU=\");\n_c = ReactLive2d;\nexport default ReactLive2d;\nvar _c;\n$RefreshReg$(_c, \"ReactLive2d\");","map":{"version":3,"names":["LAppDelegate","React","useState","useEffect","jsxDEV","_jsxDEV","ReactLive2d","props","_s","containerStyle","position","background","canvasStyle","top","right","left","navigator","userAgent","match","MobileShow","getInstance","initialize","run","previousSave","newSave","previousSaveMood","newSaveMood","previousSaveTime","newSaveTime","currentAudio","newAudio","Audio","token","mood","time","console","log","setExpression","pause","audio","timedDefault","setTimeout","release","releaseInstance","children","style","width","height","id","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["D:/Personal/PythonStuff/RR/RRWebsiteRenewed/my-app/src/js/ReactLive2d.js"],"sourcesContent":["import { LAppDelegate } from '../src/lappdelegate';\nimport React, { useState, useEffect } from 'react';\n\nfunction ReactLive2d(props) {\n\n    // 容器样式\n    let containerStyle = {\n        position: 'absolute',//props.bottom ? props.bottom : '0',\n        \n        background: \"red\"\n    }\n    // canvas样式\n    let canvasStyle = {\n        position: 'relative',\n        top: props.top ? props.top : '',\n        right: props.right ? props.right : '0',\n        left: props.left ? props.left : ''\n    }\n\n    useEffect(() => {\n        if (!navigator.userAgent.match(/mobile/i) || props.MobileShow == true) {\n\n            if (LAppDelegate.getInstance().initialize() == false) {\n                return;\n            }\n            LAppDelegate.getInstance().run();\n            // window.onbeforeunload = () => LAppDelegate.releaseInstance();\n        }\n    }, []);\n\n    const [previousSave, newSave] = useState('')\n    const [previousSaveMood, newSaveMood] = useState('')\n    const [previousSaveTime, newSaveTime] = useState(0)\n    const [currentAudio, newAudio] = useState(new Audio)\n\n    if (props.token !== previousSave){\n        newSave(props.token)\n        newSaveMood(props.mood)\n        newSaveTime(props.time)\n    }\n\n    useEffect( ()=> {\n\n        if (previousSave !== ''){\n            console.log(previousSaveMood)\n            if (previousSaveMood != 'exp_01'){\n                LAppDelegate.getInstance().setExpression(previousSaveMood)\n            }\n            \n            currentAudio.pause()\n            LAppDelegate.getInstance().audio(previousSave, currentAudio)\n\n\n            if (previousSaveMood != 'exp_01'){\n\n                const timedDefault = () => {\n                    LAppDelegate.getInstance().setExpression('exp_01')\n                }\n                setTimeout(timedDefault, previousSaveTime * 1000 + 100)\n                //LAppDelegate.getInstance().setExpression('exp_01')\n            }\n        }\n    }, [previousSave, previousSaveMood, previousSaveTime])\n\n    useEffect(() => {}, [currentAudio])\n\n\n    useEffect(() =>{\n\n        if(props.release==true){\n            LAppDelegate.releaseInstance();\n        }\n    }, [props.release])\n\n    return (\n        <div>\n            <div\n                style={containerStyle}\n                width={props.width ? props.width : '300'}\n                height={props.height ? props.height : '500'}\n                id=\"live2d-container\">\n                <div id=\"live2d-hidden\"\n                    style={{\n                        width:'100%',\n                        height:'100%',\n                        position:'absolute',\n                        top:'0',\n                        left:'0',\n                        zIndex:'2'\n                    }}\n                >\n\n                </div>\n                <canvas\n                    id=\"live2d\"\n                    style={canvasStyle}\n                    width={props.width ? props.width : '300'}\n                    height={props.height ? props.height : '500'}\n                    className=\"live2d\"\n                >\n                </canvas>\n            </div>\n        </div>\n    )\n}\n\nexport default ReactLive2d"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}