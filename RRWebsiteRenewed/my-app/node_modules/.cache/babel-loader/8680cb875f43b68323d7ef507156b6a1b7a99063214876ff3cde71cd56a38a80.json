{"ast":null,"code":"/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismMatrix44 } from './cubismmatrix44';\n\n/**\n * モデル座標設定用の4x4行列\n *\n * モデル座標設定用の4x4行列クラス\n */\nexport class CubismModelMatrix extends CubismMatrix44 {\n  /**\n   * コンストラクタ\n   *\n   * @param w 横幅\n   * @param h 縦幅\n   */\n  constructor(w, h) {\n    super();\n    this._width = void 0;\n    // 横幅\n    this._height = void 0;\n    this._width = w !== undefined ? w : 0.0;\n    this._height = h !== undefined ? h : 0.0;\n    this.setHeight(2.0);\n  }\n\n  /**\n   * 横幅を設定\n   *\n   * @param w 横幅\n   */\n  setWidth(w) {\n    const scaleX = w / this._width;\n    const scaleY = scaleX;\n    this.scale(scaleX, scaleY);\n  }\n\n  /**\n   * 縦幅を設定\n   * @param h 縦幅\n   */\n  setHeight(h) {\n    const scaleX = h / this._height;\n    const scaleY = scaleX;\n    this.scale(scaleX, scaleY);\n  }\n\n  /**\n   * 位置を設定\n   *\n   * @param x X軸の位置\n   * @param y Y軸の位置\n   */\n  setPosition(x, y) {\n    this.translate(x, y);\n  }\n\n  /**\n   * 中心位置を設定\n   *\n   * @param x X軸の中心位置\n   * @param y Y軸の中心位置\n   *\n   * @note widthかheightを設定したあとでないと、拡大率が正しく取得できないためずれる。\n   */\n  setCenterPosition(x, y) {\n    this.centerX(x);\n    this.centerY(y);\n  }\n\n  /**\n   * 上辺の位置を設定する\n   *\n   * @param y 上辺のY軸位置\n   */\n  top(y) {\n    this.setY(y);\n  }\n\n  /**\n   * 下辺の位置を設定する\n   *\n   * @param y 下辺のY軸位置\n   */\n  bottom(y) {\n    const h = this._height * this.getScaleY();\n    this.translateY(y - h);\n  }\n\n  /**\n   * 左辺の位置を設定\n   *\n   * @param x 左辺のX軸位置\n   */\n  left(x) {\n    this.setX(x);\n  }\n\n  /**\n   * 右辺の位置を設定\n   *\n   * @param x 右辺のX軸位置\n   */\n  right(x) {\n    const w = this._width * this.getScaleX();\n    this.translateX(x - w);\n  }\n\n  /**\n   * X軸の中心位置を設定\n   *\n   * @param x X軸の中心位置\n   */\n  centerX(x) {\n    const w = this._width * this.getScaleX();\n    this.translateX(x - w / 2.0);\n  }\n\n  /**\n   * X軸の位置を設定\n   *\n   * @param x X軸の位置\n   */\n  setX(x) {\n    this.translateX(x);\n  }\n\n  /**\n   * Y軸の中心位置を設定\n   *\n   * @param y Y軸の中心位置\n   */\n  centerY(y) {\n    const h = this._height * this.getScaleY();\n    this.translateY(y - h / 2.0);\n  }\n\n  /**\n   * Y軸の位置を設定する\n   *\n   * @param y Y軸の位置\n   */\n  setY(y) {\n    this.translateY(y);\n  }\n\n  /**\n   * レイアウト情報から位置を設定\n   *\n   * @param layout レイアウト情報\n   */\n  setupFromLayout(layout) {\n    const keyWidth = 'width';\n    const keyHeight = 'height';\n    const keyX = 'x';\n    const keyY = 'y';\n    const keyCenterX = 'center_x';\n    const keyCenterY = 'center_y';\n    const keyTop = 'top';\n    const keyBottom = 'bottom';\n    const keyLeft = 'left';\n    const keyRight = 'right';\n    for (const ite = layout.begin(); ite.notEqual(layout.end()); ite.preIncrement()) {\n      const key = ite.ptr().first;\n      const value = ite.ptr().second;\n      if (key == keyWidth) {\n        this.setWidth(value);\n      } else if (key == keyHeight) {\n        this.setHeight(value);\n      }\n    }\n    for (const ite = layout.begin(); ite.notEqual(layout.end()); ite.preIncrement()) {\n      const key = ite.ptr().first;\n      const value = ite.ptr().second;\n      if (key == keyX) {\n        this.setX(value);\n      } else if (key == keyY) {\n        this.setY(value);\n      } else if (key == keyCenterX) {\n        this.centerX(value);\n      } else if (key == keyCenterY) {\n        this.centerY(value);\n      } else if (key == keyTop) {\n        this.top(value);\n      } else if (key == keyBottom) {\n        this.bottom(value);\n      } else if (key == keyLeft) {\n        this.left(value);\n      } else if (key == keyRight) {\n        this.right(value);\n      }\n    }\n  }\n\n  // 縦幅\n}\n\n// Namespace definition for compatibility.\nimport * as $ from './cubismmodelmatrix';\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport let Live2DCubismFramework;\n(function (_Live2DCubismFramework) {\n  const CubismModelMatrix = _Live2DCubismFramework.CubismModelMatrix = $.CubismModelMatrix;\n})(Live2DCubismFramework || (Live2DCubismFramework = {}));","map":{"version":3,"names":["CubismMatrix44","CubismModelMatrix","constructor","w","h","_width","_height","undefined","setHeight","setWidth","scaleX","scaleY","scale","setPosition","x","y","translate","setCenterPosition","centerX","centerY","top","setY","bottom","getScaleY","translateY","left","setX","right","getScaleX","translateX","setupFromLayout","layout","keyWidth","keyHeight","keyX","keyY","keyCenterX","keyCenterY","keyTop","keyBottom","keyLeft","keyRight","ite","begin","notEqual","end","preIncrement","key","ptr","first","value","second","$","Live2DCubismFramework","_Live2DCubismFramework"],"sources":["C:/Users/cleyc/OneDrive/Documents/RR/RRWebsiteRenewed/my-app/src/Framework/src/math/cubismmodelmatrix.ts"],"sourcesContent":["/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { csmMap, iterator } from '../type/csmmap';\nimport { CubismMatrix44 } from './cubismmatrix44';\n\n/**\n * モデル座標設定用の4x4行列\n *\n * モデル座標設定用の4x4行列クラス\n */\nexport class CubismModelMatrix extends CubismMatrix44 {\n  /**\n   * コンストラクタ\n   *\n   * @param w 横幅\n   * @param h 縦幅\n   */\n  constructor(w?: number, h?: number) {\n    super();\n\n    this._width = w !== undefined ? w : 0.0;\n    this._height = h !== undefined ? h : 0.0;\n\n    this.setHeight(2.0);\n  }\n\n  /**\n   * 横幅を設定\n   *\n   * @param w 横幅\n   */\n  public setWidth(w: number): void {\n    const scaleX: number = w / this._width;\n    const scaleY: number = scaleX;\n    this.scale(scaleX, scaleY);\n  }\n\n  /**\n   * 縦幅を設定\n   * @param h 縦幅\n   */\n  public setHeight(h: number): void {\n    const scaleX: number = h / this._height;\n    const scaleY: number = scaleX;\n    this.scale(scaleX, scaleY);\n  }\n\n  /**\n   * 位置を設定\n   *\n   * @param x X軸の位置\n   * @param y Y軸の位置\n   */\n  public setPosition(x: number, y: number): void {\n    this.translate(x, y);\n  }\n\n  /**\n   * 中心位置を設定\n   *\n   * @param x X軸の中心位置\n   * @param y Y軸の中心位置\n   *\n   * @note widthかheightを設定したあとでないと、拡大率が正しく取得できないためずれる。\n   */\n  public setCenterPosition(x: number, y: number) {\n    this.centerX(x);\n    this.centerY(y);\n  }\n\n  /**\n   * 上辺の位置を設定する\n   *\n   * @param y 上辺のY軸位置\n   */\n  public top(y: number): void {\n    this.setY(y);\n  }\n\n  /**\n   * 下辺の位置を設定する\n   *\n   * @param y 下辺のY軸位置\n   */\n  public bottom(y: number) {\n    const h: number = this._height * this.getScaleY();\n\n    this.translateY(y - h);\n  }\n\n  /**\n   * 左辺の位置を設定\n   *\n   * @param x 左辺のX軸位置\n   */\n  public left(x: number): void {\n    this.setX(x);\n  }\n\n  /**\n   * 右辺の位置を設定\n   *\n   * @param x 右辺のX軸位置\n   */\n  public right(x: number): void {\n    const w = this._width * this.getScaleX();\n\n    this.translateX(x - w);\n  }\n\n  /**\n   * X軸の中心位置を設定\n   *\n   * @param x X軸の中心位置\n   */\n  public centerX(x: number): void {\n    const w = this._width * this.getScaleX();\n\n    this.translateX(x - w / 2.0);\n  }\n\n  /**\n   * X軸の位置を設定\n   *\n   * @param x X軸の位置\n   */\n  public setX(x: number): void {\n    this.translateX(x);\n  }\n\n  /**\n   * Y軸の中心位置を設定\n   *\n   * @param y Y軸の中心位置\n   */\n  public centerY(y: number): void {\n    const h: number = this._height * this.getScaleY();\n\n    this.translateY(y - h / 2.0);\n  }\n\n  /**\n   * Y軸の位置を設定する\n   *\n   * @param y Y軸の位置\n   */\n  public setY(y: number): void {\n    this.translateY(y);\n  }\n\n  /**\n   * レイアウト情報から位置を設定\n   *\n   * @param layout レイアウト情報\n   */\n  public setupFromLayout(layout: csmMap<string, number>): void {\n    const keyWidth = 'width';\n    const keyHeight = 'height';\n    const keyX = 'x';\n    const keyY = 'y';\n    const keyCenterX = 'center_x';\n    const keyCenterY = 'center_y';\n    const keyTop = 'top';\n    const keyBottom = 'bottom';\n    const keyLeft = 'left';\n    const keyRight = 'right';\n\n    for (\n      const ite: iterator<string, number> = layout.begin();\n      ite.notEqual(layout.end());\n      ite.preIncrement()\n    ) {\n      const key: string = ite.ptr().first;\n      const value: number = ite.ptr().second;\n\n      if (key == keyWidth) {\n        this.setWidth(value);\n      } else if (key == keyHeight) {\n        this.setHeight(value);\n      }\n    }\n\n    for (\n      const ite: iterator<string, number> = layout.begin();\n      ite.notEqual(layout.end());\n      ite.preIncrement()\n    ) {\n      const key: string = ite.ptr().first;\n      const value: number = ite.ptr().second;\n\n      if (key == keyX) {\n        this.setX(value);\n      } else if (key == keyY) {\n        this.setY(value);\n      } else if (key == keyCenterX) {\n        this.centerX(value);\n      } else if (key == keyCenterY) {\n        this.centerY(value);\n      } else if (key == keyTop) {\n        this.top(value);\n      } else if (key == keyBottom) {\n        this.bottom(value);\n      } else if (key == keyLeft) {\n        this.left(value);\n      } else if (key == keyRight) {\n        this.right(value);\n      }\n    }\n  }\n\n  private _width: number; // 横幅\n  private _height: number; // 縦幅\n}\n\n// Namespace definition for compatibility.\nimport * as $ from './cubismmodelmatrix';\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace Live2DCubismFramework {\n  export const CubismModelMatrix = $.CubismModelMatrix;\n  export type CubismModelMatrix = $.CubismModelMatrix;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}